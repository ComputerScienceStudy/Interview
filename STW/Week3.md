# 3주차

## **DB**

- RDBMS vs NOSQL에 대해서 설명해주세요.
- 인덱스
    - 데이터베이스에서 index를 만들면 내부적으로 어떤동작이 이루어지는지 설명해주시고 장단점에 대해 설명해주세요.
    - 데이터베이스에서 index를 만들면 성능이 빨라지게 되는 이유를 설명해주세요.
    - hash index를 사용했을 때의 단점과 이유를 설명하세요.
    - 인덱스에 왜 해쉬 보다 B Tree를 쓰는가?
- 트랜잭션이 무엇인가요
    - 트랜잭션에 대해서 설명해주세요.
    - 트랜잭션을 사용할 때의 장점은 무엇인가요
    - 트랜잭션의 특성에 대해 설명해주세요(ACID)
    - 트랜잭션 격리 수준(Transaction Isolation Levels)에 대해서 설명해주세요.
    - 잠금 타임아웃과 교착 상태가 발생하는 이유에 대해서 설명해주세요.
    - 트랜잭션 Rollback은 어떤 경우에 하나요?
- JPA
    - ORM이란?
    - JPA, Hibernate 그리고 Spring Data JPA 각각에 대해서 설명해주세요.
    - 데이터 정합성에 대해서 설명해주세요. JPA에서 이것들을 어떻게 처리하는가요?
    - DB Lock에 대해서 설명해주세요. JPA에서 이것들을 어떻게 처리하는가요?
    - JPA는 로그 기법에 대해 어떻게 처리하는가?
    - JPA는 트랜잭션 Lock에 대해 어떻게 처리하는가?
- QueryDSL을 사용하는 이유와 JPQL과 차이점에 대해서 설명해주세요.
- 정규화에 대해서 설명해주세요
    - Nomalization 이 무엇인가요? Denormalization은 무엇이고, 언제 시행하게 되는지 설명해주세요.
- Elastic Search
    - Elastic Search에 대해서 간단히 설명해주세요.
    - Elastic Search의 인덱스구조와 RDBMS의 인덱스 구조의 차이에 대해 설명해주세요.
    - Elastic Search의 키워드 검색과 RDBMS의 LIKE 검색의 차이에 대해 설명해주세요.
- SQL
    - A라는 테이블이 존재할 때, 새로운 속성(Column)을 추가한다고 할때, 모든 행(row)에 Default값을 넣어주고 싶을때, 어떤 쿼리문을 작성해야할까요

## **WEB**

- 쿠키와 세션
    - 쿠키와 세션의 필요성
    - 동작방식
    - 차이점
    - 쿠키와 세션은 언제 사용하나요?
- 세션 기반 인증 방식과 토큰 기반 인증 방식의 차이
    - 동작 방식
    - 장단점
- JWT
    - JWT를 사용한 이유와 장, 단점은 무엇인가요?
- 웹 서버와 WAS의 차이점
- 웹 공격 패턴과 방어 방법
    - SQL Injection에 대해서 간단히 설명해주세요.
- RESTful의 개념
    - RESTful이란 무엇이며, 이것에 대해서 아는대로 설명해보세요.
    - 본인이 프로젝트를 진행할때 RestFull API를 지키기위해 한 노력은 무엇인가요?
- Challenge
    - 웹 사이트를 제작했는데 고해상도 이미지를 많이 사용하여 페이지 로딩 속도가 느립니다. 최적화 하는 방법에 대해서 모두 설명하세요.
    - 브라운이 새로운 검색 엔진을 개발하려고 합니다. 어떻게 설계 및 개발 것인지 아는 지식을 모두 동원하여 설명하세요.

## **Network**

- 웹 브라우저에서 URI에 구글닷컴을 쳤을 때 발생하는 일들을 아는 대로 설명해주세요. DNS 서버, HTTP 프로토콜(80포트), HTTPS 프로토콜(443포트), DOM, IP, PORT 등등의 용어를 사용해서
- 사용자가 웹브라우저를 통해 서버에 이미지를 요청해서 사용자에게 보여주기까지 과정을 설명하세요.
- OSI 7계층
    - OSI 7계층이 무엇인지 그 존재 이유에 대해서 설명해보세요.
    - TCP/IP 4계층에 대해 설명해보세요.
    - 웹 서버 소프트웨어(Apache, Nginx)는 OSI 7계층 중 어디서 작동하는지 설명해보세요.
    - 웹 서버 소프트웨어(Apache, Nginx)의 서버 간 라우팅 기능은 OSI 7계층 중 어디서 작동하는지 설명해보세요.
- DNS란?
- HTTP
    - HTTP의 역할
    - HTTP와 HTTPS의 차이를 설명하세요.
    - HTTPS에 대해서 설명하고 SSL Handshake에 대해서 설명해보세요.
    - HTTP 프로토콜의 특징
    - HTTP 1.1 VS 2.0 VS 3.0
    - HTTP 응답코드
    - HTTP Method - PUT과 PATCH의 차이
- TCP와 UDP
    - TCP와 UDP의 차이점에 대해서 설명해보세요.
    - 3 way hand shake에 대해서 설명하세요.
<br><br>
---
<br>

### RDBMS vs NOSQL에 대해서 설명해주세요.       
---
**핵심답변**

- 관계형 데이터베이스 관리 시스템(RDBMS, Relational Database Management System)의 핵심적인 특징은 두가지 입니다.        
  첫째, 모든 정보는 정해진 데이터 스키마에 따라 행과 열을 갖춘 테이블 형태로 저장됩니다.        
  둘째, 관계형 데이터베이스에서는 데이터의 집합인 엔티티끼리 서로 관계를 맺을 수 있습니다. (1:1, 1:N, N:M 관계) 관계를 이용하면 하나의 테이블에서 중복 없이 하나의 데이터만을 관리할 수 있습니다.     
  데이터는 테이블에 레코드로 저장되며, 각 테이블마다 필드의 이름과 데이터 유형(스키마)으로 정의된 구조가 있습니다. 따라서 스키마를 준수하지 않은 레코드는 테이블에 추가되지 않습니다.       
  RDBMS는 일반적으로 SQL(Structured Query Language)로 관리하는 것이 표준화되어 있습니다. 
- NoSQL(Not Only SQL)은 관계형 데이터베이스가 아니며, 스키마 없이 혹은 느슨한 형태의 스키마로도 사용할 수 있습니다. 여기에서 데이터 테이블은 그냥 하나의 테이블로, 관계를 설정하지도 않고 JOIN도 할 수 없습니다.        
  
🤔 두 DB의 장단점을 간략하게 말해볼 수 있을까요?        
- RDBMS     
    - 장점: 정해진 스키마에 따라 데이터가 저장되므로 데이터 구조가 명확하고, 각 관계를 따라 저장된 데이터는 중복 없음이 보장됩니다.
    - 단점: 테이블 간 관계로 얽혀 있어 시스템이 커진다면 쿼리가 복잡해질 수 있습니다. 또한 성능 향상을 위해 서버 자체의 성능을 Scale-up하는 방법 밖에 없기 때문에 비용이 기하급수적으로 늘어날 수 있습니다.
- NoSQL     
   - 장점: 스키마가 없기 떄문에 데이터 구조가 자유롭습니다. 언제든지 데이터를 조정하거나 새로운 필드 추가가 가능합니다. 데이터 분산이 용이하기 때문에 대량의 데이터를 빠르게 처리해야 하는 요즘 상황에 적합할 수 있습니다. 성능 향상을 위해서도 Scale-Up과 Scale-Out 모두 가능합니다.
   - 단점: 데이터 중복 문제가 발생할 수 있고 스키마가 존재하지 않으므로 데이터 구조가 명확하지 않습니다.        

🤔 그렇다면 어떤 기준으로 DB를 선택할 수 있죠?      
RDBMS는 데이터 구조가 명확하고 명확한 스키마가 중요할 때 사용할 수 있습니다. 데이터 중복이 없음이 보장되므로 재무관련, 보안, 개인 건강정보 시스템과 같은 곳에서 선택할 만 합니다.       
반면 NoSQL은 막대한 데이터를 저장해야 할 필요가 있고 작성 속도가 빨라야 하는 데이터 분석, 빠른 트로토타입 작업 등에서 사용할 수 있습니다. 

---
<br>

### Index
---
#### Q) Index란 무엇인가요?        
A) 인덱스는 DB에서 마치 책의 처음에 있는 색인과 같은 역할을 합니다. 즉 칼럼의 값과 해당 레코드가 저장된 주소를 키와 값의 쌍으로 묶어 빠르게 데이터를 검색하고 원하는 결과를 가져올 수 있게 해줍니다. 

#### 데이터베이스에서 index를 만들면 내부적으로 어떤동작이 이루어지는지 설명해주시고 장단점에 대해 설명해주세요.

****핵심답변****

- 인덱스 원리       
  인덱스를 해당하는 컬럼에 주면 초기 TABLE 생성 시 만들어진 MYD, MYI, FRM 3개의 파일 중 MYI에 해당 컬럼에 색인화 하여 저장합니다. 그래서 사용자가 SELECT 쿼리로 INDEX가 사용하는 쿼리를 사용하면 해당 TABLE을 전부 검색하는 것이 아니라 빠른 TREE로 정리한 MYI파일 내용을 검색합니다. 
- 장점      
  - 키 값을 기초로 테이블에서 검색 및 정렬 속도가 빨라집니다.
  - 전반적인 시스템의 부하를 줄일 수 있습니다.      

- 단점      
  - 인덱스를 관리하기 위해 DB에 약 10% 공간이 필요합니다.    
  - 인덱스 관리를 위한 추가 작업이 필요해집니다.
  - 인덱스의 크기가 비대해지면 오히려 성능이 저하되는 역효과가 발생할 수 있습니다.

#### Q) 데이터베이스에서 index를 만들면 성능이 빨라지게 되는 이유를 설명해주세요.      
A) 인덱스를 사용하지 않으면 수 만개의 데이터가 있는 테이블에서 데이터를 조회할 경우 기준이 없기 때문에 FULL TABLE SCAN을 통해 원하는 데이터를 찾게 됩니다. 반면 인덱스는 데이터를 색인화하여 검색하므로 속도가 빨라지게 됩니다.      

#### Q) hash index를 사용했을 때의 단점과 이유를 설명하세요.        
A) 해시 테이블은 (Key, Value)로 데이터를 저장하는 자료구조 중 하나입니다. Key값을 이용해 고유한 인덱스를 생성하고 그 인덱스에 저장된 값을 꺼내오는 구조입니다. 미리 저장된 메모리 bucket에 한 번에 접근하기 때문에 탐색 시간이 O(1)로 빠릅니다. 하지만 이는 '단 하나의 데이터를 검색하는 시간'에 한정한 시간 복잡도입니다. 또, 해시는 등호(=) 연산에만 특화되어 있다는 단점이 있습니다. 따라서 부등호 연산이 자주 사용되는 데이터베이스 검색을 위해서는 해시 테이블이 적합하지 않습니다.

#### Q) 인덱스에 왜 해쉬 보다 B-Tree를 쓰는가?
A) B-Tree는 밸런스 트리의 일종으로, 트리의 노드가 한 방향으로 쏠리지 않도록 노드 삽입 및 삭제 시 특정 규칙에 의해 재정렬 되어 왼쪽과 오른쪽의 자식이 균형을 유지합니다.     
B-Tree는 항상 정렬된 상태로 특정 값보다 크고 작은 부등호 연산이 가능합니다. 또한 참조 포인터가 적어 데이터 양이 방대해지더라도 빠른 데이터 접근이 가능합니다. 마지막으로 데이터 탐색, 저장, 수정, 삭제에 항상 O(logN)의 시간 복잡도를 가져 상대적으로 탐색 시간이 빠릅니다. 

---
<br>

### Transaction

---
#### Q) 트랜잭션에 대해서 설명해주세요.        
A) 트랜잭션은 하나의 논리적인 작업 단위를 구성하는 연산들의 집합입니다. 예컨대 한 계좌에서 다른 계좌로 10만원을 송금할 경우 전체 작업은 정상적으로 완료되어야 하고, 만약 정상적인 처리가 불가능하면 아무 것도 실행되지 않은 처음 상태로 되돌려져야 합니다. 트랜잭션은 이렇듯 작업의 일부만 적용되는 현상이 발생하지 않도록 해줍니다. 

#### Q) 트랜잭션을 사용할 때의 장점은 무엇인가요
A) 트랜잭션을 통해 작업의 안정성을 보장받을 수 있습니다. 데이터를 입력, 갱신, 처리하는 도중에 오류가 발생하면 모든 작업을 원 상태로 되돌리기 때문입니다. 처리 과정이 모두 성공했을 때에만 DB에 반영됩니다.


#### Q) 트랜잭션의 특성에 대해 설명해주세요(ACID)
- Atomicity (원자성)
    - 트랜잭션은 데이터베이스에 모두 반영되거나, 아니면 전혀 반영되지 않아야 한다는 특성입니다.
- Consistency (일관성)
    - 트랜잭션의 작업 처리 결과는 항상 일관성이 있어야 합니다. 트랜잭션이 진행되는 동안 DB가 변경되더라도 업데이트 된 DB로 진행되는 것이 아니라, 처음 참조한 DB로 진행됩니다.
- Isolation (독립성)
    - 둘 이상의 트랜잭션이 동시에 실행되고 있을 경우 어떤 하나의 트랜잭션이라도 다른 트랜잭션의 연산에 끼어들 수 없습니다.
- Durability (지속성)
    - 트랜잭션이 성공적으로 왼성되면 결과는 영구적으로 반영되어 지속됩니다.

#### Q) 트랜잭션 격리 수준(Transaction Isolation Levels)에 대해서 설명해주세요.
A) 여러 트랜잭션이 처리될 때, 특정 트랜잭션이 다른 트랜잭션에서 변경하거나 조회하는 데이터를 볼 수 있도록 허용할지 여부를 결정하는 것입니다.
 - READ UNCOMMITTED: 각 트랜잭션 변경 내용이 Commit이나 Rollback 여부에 상관 없이 다른 트랜잭션에서 값을 읽을 수 없음
 - READ COMMITTED: RDB에서 대부분 기본적으로 사용되는 격리 수준
 - REPEATABLE READ: 트랜잭션마다 트랜잭션 ID를 부여하여 트랜잭션 ID보다 작은 트랜잭션 번호에서 변경한 것만 읽음
 - SERIALIZABLE: 가장 단순하지만 가장 엄격한 격리 수준     

4가지로 구분되고, 아래로 내려갈수록 트랜잭션 간 고립정도는 높아지고 성능은 떨어집니다. 

#### Q) 잠금 타임아웃(Lock Timeout)과 교착 상태(Deadlock)가 발생하는 이유에 대해서 설명해주세요.
- 잠금 타임아웃: 트랜잭션A의 갱신과 트랜잭션B의 갱신이 충돌하는 경우, wait이 발생하고 지정 시간이 지나면 잠금 타임아웃이 발생한다. 
ERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction      
- 교착상태: 트랜잭션A는 a에, 트랜잭션B는 b에 갱신을 한 상태일 떄, 트랜잭션 A가 b에 갱신을 하려 하고, 트랜잭션B는 a에 갱신을 하려고 하면 교탁 상태가 발생한다.ERROR 1213 (40001): Deadlock found when trying to get lock; try restarting transaction 
  
#### Q) 트랜잭션 Rollback은 어떤 경우에 하나요?
Rollback은 트랜잭션이 행한 모든 연산을 취소시키거나 트랜잭션을 재시작하는 것으로, 트랜잭션의 실행 중에 장애가 발생한 경우 수행합니다. 롤백을 수행하면 트랜잭션으로 인한 하나의 묶음 처리가 시작되기 이전, 직전 커밋 직후의 상태로 돌아갑니다.       


---
<br>

### JPA

---

#### Q) ORM이란?
객체와 관계형 데이터베이스를 매핑해주는 것으로 쿼리문 작성 없이 객체를 데이터베이스에 직접 저장할 수 있게 도와주는 기술입니다.

#### Q) JPA, Hibernate 그리고 Spring Data JPA 각각에 대해서 설명해주세요.
- JPA란 Java Persistance API의 약자로 JAVA ORM 표준 기술 명세입니다.자바에서 데이터를 DBMS에 영구히 기록할 수 있는 환경을 제공하는 API이자, 인터페이스입니다.
- Hibernate는 JPA의 구현체 중 하나입니다.JPA는 단순히 명세이기 때문에 구현이 없습니다. 따라서 인터페이스를 직접 구현한 라이브러리가 필요하며, Hibernate가 그 역할을 합니다. 내부적으로 JDBC API를 사용합니다. 
- Spring Data JPA는 JPA를 편하게 쓸 수 있도록 만들어 놓은 모듈입니다. JPA를 한 단계 추상화시킨 Repository라는 인터페이스를 제공합니다.      
[참고 자료](https://suhwan.dev/2019/02/24/jpa-vs-hibernate-vs-spring-data-jpa/)     

  ![](https://images.velog.io/images/apolontes/post/0f72ed1b-4966-4090-a62d-1d193e1b62ac/2022-02-22_01-23-12.png)

#### Q) 데이터 정합성에 대해서 설명해주세요. JPA에서 이것들을 어떻게 처리하는가요?      
데이터 정합성은 데이터들의 값이 모순됨이 없이 서로 일치함을 뜻합니다. 
